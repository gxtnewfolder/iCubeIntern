<header class="relative max-h-24 z-50 flex">
    <a class="flex justify-center items-center border-r border-b p-1" href="/">iCubeTrain</a>
    <mat-toolbar class="justify-end border-b" color="primary">
        <!-- <div class="flex gap-5">
            <a mat-button routerLink="/products">Products</a>
        </div> -->
        <div>
            <img mat-button src="https://seeklogo.com/images/C/chatgpt-logo-02AFA704B5-seeklogo.com.png" class="w-9 rounded-full hover:shadow-lg cursor-pointer mx-8"
                alt="ChatGPT Logo" (click)="toggleChat()">
        </div>
        @if(isLoggedIn()){
        <div *ngIf="authService.getUserDetails() as UserDetails">
            <div class="flex gap-5 items-center">
                <a [matMenuTriggerFor]="menu" class="flex gap2 cursor-pointer items-center">
                    <div
                        class="bg-red-400 text-white font-bold shadow-md rounded-full w-5 h-5 p-5 mx-2 flex justify-center items-center">
                        {{ UserDetails!.username[0].toUpperCase() }}
                    </div>
                    <!-- <div class="text-black flex flex-col">
                            <h1 class="p-0 m-0 font-medium">
                                {{ UserDetails?.username }}
                            </h1>
                            <p class="p-0 m-0 font-medium text-xs">
                                {{ UserDetails?.email }}
                            </p>
                        </div> -->
                </a>
                <mat-menu #menu="matMenu">
                    <button [routerLink]="['account',1]" mat-menu-item>
                        <mat-icon>account_circle</mat-icon>
                        <span>
                            View Profile
                        </span>
                    </button>
                    <button (click)="logout()" mat-menu-item>
                        <mat-icon>
                            logout
                        </mat-icon>
                        <span>Logout</span>
                    </button>
                </mat-menu>
            </div>
        </div>
        }@else {
        <div class="space-x-4">
            <a mat-button routerLink="/login">Login</a>
            <a mat-button routerLink="/register">Register</a>
        </div>
        }
    </mat-toolbar>
</header>